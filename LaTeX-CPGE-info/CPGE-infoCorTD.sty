 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%	Notations Cours Info Cor TD Package Jo 2018-19
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%ENTETE / INCLUDES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%=======================================================================
\NeedsTeXFormat{LaTeX2e}[1999/01/01]
\ProvidesPackage{CPGE-info}[2014/08/26]
 
%chargement des extensions requises au bon fonctionnement de l'extension et des documents	
\RequirePackage[utf8]{inputenc}
\RequirePackage[french]{babel}
%\RequirePackage[autolanguage]{numprint} %enlevé par Jo
\RequirePackage{%
	%setspace, enlevé par Jo
color,calc,graphicx,multicol,float,caption,% << style
	amsmath,amssymb,amsfonts,amstext,amsthm,
%stmaryrd,enlevé par Jo % << maths
	%mathtools, enlevé par Jo % << for left side subs
	mathrsfs, % << some math fonts
	longtable,colortbl,%
	enumitem,% << lists
	%colortbl,enlevé par Jo % << color in tabular
	%marvosym, enlevé par Jo % << symbols
	tikz,pgf,pgfcore,
    %pgfplots,% << graphics
	lscape,%
	schemabloc,% << shÃ©mas-blocs
	pifont,
	amsmath,
}  
              
    
% *** pgf/tikz library
\usepgflibrary{arrows}

\usetikzlibrary{calc,through,automata,er,fadings,decorations,shadows,shapes,%
	topaths,positioning,matrix,patterns,intersections,%
	%babel, enlevé par Jo % pour prÃ©server les caractÃšres actifs
}
\RequirePackage[textwidth=180mm,textheight=254mm,
	twoside,marginratio=2:3,%
	hmarginratio=3:2,% to reverse
]{geometry}
%\RequirePackage{listings} %ajouté par Jo

\RequirePackage{pgfpages}
\pgfpagesuselayout{2 on 1}[a4paper,landscape,border shrink=0mm] %Doc Virgile
%\RequirePackage{pgfpages} %enlevé par Jo
%\pgfpagesuselayout{2 on 1}[a4paper,landscape,border shrink=0mm] enlevé par Jo
    
%-----------------------------------------------------------------------
% *** fonts
\RequirePackage[T1]{fontenc}
\RequirePackage{textcomp,lmodern}
% *** microtype
%\RequirePackage[babel]{microtype} enlevé par Jo
%\RequirePackage[babel=true,kerning=french]{microtype}
%\DeclareMicrotypeAlias{lmr}{cmr} enlevé par Jo
% *** title style
\RequirePackage[small,bf]{titlesec}
% *** text spacing
%\RequirePackage{setspace}  enlevé par Jo
% *** inclusion de pdf
%\RequirePackage{pdfpages} enlevé par Jo
% *** paquets utilisÃ©s par rÃ©mi
%\RequirePackage{csquotes} enlevé par Jo

% *** paquets => SII
\RequirePackage{gensymb}
\RequirePackage{multirow}
\RequirePackage{schemabloc}

%-----------------------------------------------------------------------
% *** info environment
%-----------------------------------------------------------------------
\newsavebox{\boiteinfo}
\newenvironment{info}{\medskip%
	\setbox\boiteinfo=\vbox\bgroup%
	\hsize\textwidth\addtolength{\hsize}{-6em}\parindent0pt%
	\vspace*{2pt}}%
	{\vspace*{2pt}\par\egroup%
	\noindent\parbox[b][\heightof{\usebox{\boiteinfo}}][c]{4em}{\centering\huge\Info}%
	\rule{1pt}{\heightof{\usebox{\boiteinfo}}}\hskip1em%
	\parbox[b][\heightof{\usebox{\boiteinfo}}][c]{\textwidth-6em}{\usebox{\boiteinfo}}
	\par\medskip
}

% *** code info
%-----------------------------------------------------------------------
% *** code python
%-----------------------------------------------------------------------
\RequirePackage{listings}
\lstset{
	upquote=true,
	columns=flexible,
	basicstyle=\ttfamily,
	language=Python,
	keywordstyle=\color{blue},
	identifierstyle=\color{black},
	commentstyle=\color{orange},
	% *** style
	frame=leftline,%
	framerule=3pt,%
	rulecolor=\color{black!20},%
	framesep=1em,%
	xleftmargin=2em,%
	% code
	showstringspaces=false,
	texcl=True,% to activate teX code
	literate=%
{Ã¡}{{\'a}}1 {Ã©}{{\'e}}1 {Ã­}{{\'i}}1 {Ã³}{{\'o}}1 {Ãº}{{\'u}}1
{Ã}{{\'A}}1 {Ã}{{\'E}}1 {Ã}{{\'I}}1 {Ã}{{\'O}}1 {Ã}{{\'U}}1
{Ã }{{\`a}}1 {Ãš}{{\`e}}1 {Ã¬}{{\`i}}1 {Ã²}{{\`o}}1 {Ã¹}{{\`u}}1
{Ã}{{\`A}}1 {Ã}{{\'E}}1 {Ã}{{\`I}}1 {Ã}{{\`O}}1 {Ã}{{\`U}}1
{Ã€}{{\"a}}1 {Ã«}{{\"e}}1 {Ã¯}{{\"i}}1 {Ã¶}{{\"o}}1 {ÃŒ}{{\"u}}1
{Ã}{{\"A}}1 {Ã}{{\"E}}1 {Ã}{{\"I}}1 {Ã}{{\"O}}1 {Ã}{{\"U}}1
{Ã¢}{{\^a}}1 {Ãª}{{\^e}}1 {Ã®}{{\^i}}1 {ÃŽ}{{\^o}}1 {Ã»}{{\^u}}1
{Ã}{{\^A}}1 {Ã}{{\^E}}1 {Ã}{{\^I}}1 {Ã}{{\^O}}1 {Ã}{{\^U}}1
{Å}{{\oe}}1 {Å}{{\OE}}1 {ÃŠ}{{\ae}}1 {Ã}{{\AE}}1 {Ã}{{\ss}}1
{Å±}{{\H{u}}}1 {Å°}{{\H{U}}}1 {Å}{{\H{o}}}1 {Å}{{\H{O}}}1
{Ã§}{{\c c}}1 {Ã}{{\c C}}1 {Ãž}{{\o}}1 {Ã¥}{{\r a}}1 {Ã}{{\r A}}1
{â¬}{{\EUR}}1 {Â£}{{\pounds}}1
{Â°}{{\degres{}}}1
}

% *** def lastpage counter
\RequirePackage{lastpage,refcount}
% *** header
\RequirePackage{fancyhdr}
\pagestyle{fancy} 
\fancyhf{}
\fancyhead{}
%\fancyfoot[l]{Cor TD \numeroTD} %ajout Jo
\fancyfoot[c]{\thepage/\pageref{LastPage}}

%avec parité L left, O impair, R right, E pair

\fancyhead[lo]{CorrigÃ© TD \numeroTD}
\fancyhead[re]{\Titre}
\fancyfoot[lo]{LycÃ©e Eiffel}
\fancyfoot[re]{2018-19} %ajout Jo
%\fancyfoot[ro]{\ifnum\thepage<\getpagerefnumber{LastPage}
%\small\itshape Tournez la page S.V.P.\fi}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\pagestyle{fancy} 
\newcommand*\subc[1]{%
	^{\text{\tikz{\node[draw,circle,inner sep=.5pt]{\tiny$#1$};}}}%
}


\RequirePackage{pdflscape} %ajout Jo  
  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Numero TD
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\numeroTD}{}
\newcommand*{\numero}[1]{\renewcommand*{\numeroTD}{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Titre Haut de Page reduit
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Titre}{}
\newcommand*{\titre}[1]{\renewcommand*{\Titre}{#1}}

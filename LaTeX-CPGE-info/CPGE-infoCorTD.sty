 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%	Notations Cours Info Cor TD Package Jo 2018-19
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%ENTETE / INCLUDES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%=======================================================================
\NeedsTeXFormat{LaTeX2e}[1999/01/01]
\ProvidesPackage{CPGE-info}[2014/08/26]
 
%chargement des extensions requises au bon fonctionnement de l'extension et des documents	
\RequirePackage[utf8]{inputenc}
\RequirePackage[french]{babel}
%\RequirePackage[autolanguage]{numprint} %enlevÈ par Jo
\RequirePackage{%
	%setspace, enlevÈ par Jo
color,calc,graphicx,multicol,float,caption,% << style
	amsmath,amssymb,amsfonts,amstext,amsthm,
%stmaryrd,enlevÈ par Jo % << maths
	%mathtools, enlevÈ par Jo % << for left side subs
	mathrsfs, % << some math fonts
	longtable,colortbl,%
	enumitem,% << lists
	%colortbl,enlevÈ par Jo % << color in tabular
	%marvosym, enlevÈ par Jo % << symbols
	tikz,pgf,pgfcore,
    %pgfplots,% << graphics
	lscape,%
	schemabloc,% << sh√©mas-blocs
	pifont,
	amsmath,
}  
              
    
% *** pgf/tikz library
\usepgflibrary{arrows}

\usetikzlibrary{calc,through,automata,er,fadings,decorations,shadows,shapes,%
	topaths,positioning,matrix,patterns,intersections,%
	%babel, enlevÈ par Jo % pour pr√©server les caract√®res actifs
}
\RequirePackage[textwidth=180mm,textheight=254mm,
	twoside,marginratio=2:3,%
	hmarginratio=3:2,% to reverse
]{geometry}
%\RequirePackage{listings} %ajoutÈ par Jo

\RequirePackage{pgfpages}
\pgfpagesuselayout{2 on 1}[a4paper,landscape,border shrink=0mm] %Doc Virgile
%\RequirePackage{pgfpages} %enlevÈ par Jo
%\pgfpagesuselayout{2 on 1}[a4paper,landscape,border shrink=0mm] enlevÈ par Jo
    
%-----------------------------------------------------------------------
% *** fonts
\RequirePackage[T1]{fontenc}
\RequirePackage{textcomp,lmodern}
% *** microtype
%\RequirePackage[babel]{microtype} enlevÈ par Jo
%\RequirePackage[babel=true,kerning=french]{microtype}
%\DeclareMicrotypeAlias{lmr}{cmr} enlevÈ par Jo
% *** title style
\RequirePackage[small,bf]{titlesec}
% *** text spacing
%\RequirePackage{setspace}  enlevÈ par Jo
% *** inclusion de pdf
%\RequirePackage{pdfpages} enlevÈ par Jo
% *** paquets utilis√©s par r√©mi
%\RequirePackage{csquotes} enlevÈ par Jo

% *** paquets => SII
\RequirePackage{gensymb}
\RequirePackage{multirow}
\RequirePackage{schemabloc}

%-----------------------------------------------------------------------
% *** info environment
%-----------------------------------------------------------------------
\newsavebox{\boiteinfo}
\newenvironment{info}{\medskip%
	\setbox\boiteinfo=\vbox\bgroup%
	\hsize\textwidth\addtolength{\hsize}{-6em}\parindent0pt%
	\vspace*{2pt}}%
	{\vspace*{2pt}\par\egroup%
	\noindent\parbox[b][\heightof{\usebox{\boiteinfo}}][c]{4em}{\centering\huge\Info}%
	\rule{1pt}{\heightof{\usebox{\boiteinfo}}}\hskip1em%
	\parbox[b][\heightof{\usebox{\boiteinfo}}][c]{\textwidth-6em}{\usebox{\boiteinfo}}
	\par\medskip
}

% *** code info
%-----------------------------------------------------------------------
% *** code python
%-----------------------------------------------------------------------
\RequirePackage{listings}
\lstset{
	upquote=true,
	columns=flexible,
	basicstyle=\ttfamily,
	language=Python,
	keywordstyle=\color{blue},
	identifierstyle=\color{black},
	commentstyle=\color{orange},
	% *** style
	frame=leftline,%
	framerule=3pt,%
	rulecolor=\color{black!20},%
	framesep=1em,%
	xleftmargin=2em,%
	% code
	showstringspaces=false,
	texcl=True,% to activate teX code
	literate=%
{√°}{{\'a}}1 {√©}{{\'e}}1 {√≠}{{\'i}}1 {√≥}{{\'o}}1 {√∫}{{\'u}}1
{√Å}{{\'A}}1 {√â}{{\'E}}1 {√ç}{{\'I}}1 {√ì}{{\'O}}1 {√ö}{{\'U}}1
{√†}{{\`a}}1 {√®}{{\`e}}1 {√¨}{{\`i}}1 {√≤}{{\`o}}1 {√π}{{\`u}}1
{√Ä}{{\`A}}1 {√à}{{\'E}}1 {√å}{{\`I}}1 {√í}{{\`O}}1 {√ô}{{\`U}}1
{√§}{{\"a}}1 {√´}{{\"e}}1 {√Ø}{{\"i}}1 {√∂}{{\"o}}1 {√º}{{\"u}}1
{√Ñ}{{\"A}}1 {√ã}{{\"E}}1 {√è}{{\"I}}1 {√ñ}{{\"O}}1 {√ú}{{\"U}}1
{√¢}{{\^a}}1 {√™}{{\^e}}1 {√Æ}{{\^i}}1 {√¥}{{\^o}}1 {√ª}{{\^u}}1
{√Ç}{{\^A}}1 {√ä}{{\^E}}1 {√é}{{\^I}}1 {√î}{{\^O}}1 {√õ}{{\^U}}1
{≈ì}{{\oe}}1 {≈í}{{\OE}}1 {√¶}{{\ae}}1 {√Ü}{{\AE}}1 {√ü}{{\ss}}1
{≈±}{{\H{u}}}1 {≈∞}{{\H{U}}}1 {≈ë}{{\H{o}}}1 {≈ê}{{\H{O}}}1
{√ß}{{\c c}}1 {√á}{{\c C}}1 {√∏}{{\o}}1 {√•}{{\r a}}1 {√Ö}{{\r A}}1
{‚Ç¨}{{\EUR}}1 {¬£}{{\pounds}}1
{¬∞}{{\degres{}}}1
}

% *** def lastpage counter
\RequirePackage{lastpage,refcount}
% *** header
\RequirePackage{fancyhdr}
\pagestyle{fancy} 
\fancyhf{}
\fancyhead{}
\fancyfoot[l]{Cor TD \numeroTD} %ajout Jo
\fancyfoot[c]{\thepage/\pageref{LastPage}}
%\fancyfoot[r]{2018-19} %ajout Jo
%\fancyfoot[ro]{\ifnum\thepage<\getpagerefnumber{LastPage}
%\small\itshape Tournez la page S.V.P.\fi}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\pagestyle{fancy} 
\newcommand*\subc[1]{%
	^{\text{\tikz{\node[draw,circle,inner sep=.5pt]{\tiny$#1$};}}}%
}


\RequirePackage{pdflscape} %ajout Jo  
  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Numero TD
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\numeroTD}{}
\newcommand*{\numero}[1]{\renewcommand*{\numeroTD}{#1}}



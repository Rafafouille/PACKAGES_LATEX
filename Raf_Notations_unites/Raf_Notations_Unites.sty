%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%	Notations Unités
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\NeedsTeXFormat{LaTeX2e}[1999/01/01]
\ProvidesPackage{Raf_Notations_Unites}[2018/11/22]
 
%chargement des extensions requises au bon fonctionnement de l'extension et des documents
\RequirePackage{ifthen}%pour utiliser les booléens, à mettre avec les autres RequirePackage's
\RequirePackage{amsmath}%Pour utiliser la fonction \text dans les formules


%Initialisation des booleens 
\newboolean{boolRaccourcisUnite}%création du booléen
\setboolean{boolRaccourcisUnite}{true}%affectation de la valeur false

%déclaration des options de l'extension
\DeclareOption{noRaccourci}{\setboolean{boolRaccourcisUnite}{false}}
\ProcessOptions






%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%commandes et/ou environnements personnalisés

	\newboolean{uniteUseSpace}%booleen qui dit si la prochaine unite doit etre précédée d'un espace ou non (en particulier si il y a un ``/'')
	\newcommand{\uniteSetSpaceOff}	{\setboolean{uniteUseSpace}{false}}
	\newcommand{\uniteSetSpaceOn}	{\setboolean{uniteUseSpace}{true}}
	\uniteSetSpaceOn
	%\setboolean{uniteUseSpace}{true}%affectation de la valeur false


\def\uniteQueFaire {% Fonction Tex ifthenelse pour définir l'action a faire selon si on 
\ifx\uniteLeCaractereSuivant /%
\let\next = \uniteSetSpaceOff
\else
\let\next = \uniteSetSpaceOn
\fi
\next
}

	\definecolor{couleurUnite}{RGB}{100,0,0}%{250,250,250} %Couleur //Ne fonctionne pas
	%La commande suivante :
	%- met en petit
	%- color l'unite
	%- vérifie si le caractere suivant est un / ou non. Si oui, alors il faut supprimer l'espace qui précedera la prochaine unite.

%	\newcommand*{\unite}[2][]	{\ifthenelse{\boolean{uniteUseSpace}}{\,}{}{\footnotesize{\ensuremath{\color{couleurUnite}{#2}^{\tiny #1}}}}\futurelet\uniteLeCaractereSuivant\uniteQueFaire}
	\newcommand*{\unite}[2][]	{\ifthenelse{\boolean{uniteUseSpace}}{\,}{}{\footnotesize{\ensuremath{{#2}^{\tiny #1}}}}\futurelet\uniteLeCaractereSuivant\uniteQueFaire}

	%\newcommand*{\uniteQueFaire}	{\ifthenelse{\equal{\uniteLeCaractereSuivant}{/}}{c'est un slash !}{Ce n'est pas un slash}}


	%Sans unité
	\newcommand*{\dent}[1][]	{\unite[#1]{\text{dent}}}
	\newcommand*{\dents}[1][]	{\unite[#1]{\text{dents}}}

	%Longueurs
	\newcommand*{\micrometre}[1][] 	{\unite[#1]{\mu \text{m}}}
	\newcommand*{\millimetre}[1][] 	{\unite[#1]{\text{mm}}}
	\newcommand*{\centimetre}[1][] 	{\unite[#1]{\text{cm}}}
	\newcommand*{\decimetre}[1][] 	{\unite[#1]{\text{dm}}}
	\newcommand*{\metre}[1][] 	{\unite[#1]{\text{m}}}
	\newcommand*{\decametre}[1][] 	{\unite[#1]{\text{dam}}}
	\newcommand*{\hectometre}[1][] 	{\unite[#1]{\text{hm}}}
	\newcommand*{\kilometre}[1][] 	{\unite[#1]{\text{km}}}

	%Volume
	\newcommand*{\millilitre}[1][]	{\unite[#1]{\text{mL}}}
	\newcommand*{\centilitre}[1][]	{\unite[#1]{\text{cL}}}
	\newcommand*{\decilitre}[1][]	{\unite[#1]{\text{dL}}}
	\newcommand*{\litre}[1][]	{\unite[#1]{\text{L}}}
	\newcommand*{\decalitre}[1][]	{\unite[#1]{\text{daL}}}
	\newcommand*{\hectolitre}[1][]	{\unite[#1]{\text{hL}}}
	\newcommand*{\kilolitre}[1][]	{\unite[#1]{\text{kL}}}

	%Forces
	\newcommand*{\millinewton}[1][] 	{\unite[#1]{\text{mN}}}
	\newcommand*{\centinewton}[1][] {\unite[#1]{\text{cN}}}
	\newcommand*{\decinewton}[1][] 	{\unite[#1]{\text{dN}}}
	\newcommand*{\newton}[1][] 	{\unite[#1]{\text{N}}}
	\newcommand*{\decanewton}[1][] 	{\unite[#1]{\text{daN}}}
	\newcommand*{\hectonewton}[1][] 	{\unite[#1]{\text{hN}}}
	\newcommand*{\kilonewton}[1][] 	{\unite[#1]{\text{kN}}}

	\newcommand*{\newtonMetre}[1][] 	{\unite[#1]{\newton\metre}}
	\newcommand*{\newtonMillimetre}[1][] 	{\unite[#1]{\newton\millimetre}}
	\newcommand*{\milliNewtonMetre}[1][] 	{\unite[#1]{\millinewton\metre}}
	\newcommand*{\kiloNewtonMetre}[1][] 	{\unite[#1]{\kilonewton\metre}}
	%Pressions
	\newcommand*{\millipascal}[1][] 	{\unite[#1]{\text{mPa}}}
	\newcommand*{\centipascal}[1][] {\unite[#1]{\text{cPa}}}
	\newcommand*{\decipascal}[1][] 	{\unite[#1]{\text{dPa}}}
	\newcommand*{\pascal}[1][] 	{\unite[#1]{\text{Pa}}}
	\newcommand*{\decapascal}[1][] 	{\unite[#1]{\text{daPa}}}
	\newcommand*{\hectopascal}[1][] {\unite[#1]{\text{hPa}}}
	\newcommand*{\kilopascal}[1][] 	{\unite[#1]{\text{kPa}}}
	\newcommand*{\megapascal}[1][] 	{\unite[#1]{\text{MPa}}}
	\newcommand*{\gigapascal}[1][] 	{\unite[#1]{\text{GPa}}}

	\newcommand*{\baros}[1][] 	{\unite[#1]{\text{bar}}}
	

	%Temps	
	\newcommand*{\milliseconde}[1][]{\unite[#1]{\text{ms}}}
	\newcommand*{\seconde}[1][]	{\unite[#1]{\text{s}}}
	\newcommand*{\minute}[1][] 	{\unite[#1]{\text{min}}}
	\newcommand*{\heure}[1][] 	{\unite[#1]{\text{h}}}
	\newcommand*{\annee}[1][] 	{\unite[#1]{\text{an}}}
	\newcommand*{\annees}[1][] 	{\unite[#1]{\text{ans}}}

	%Fréquence
	\newcommand*{\millihertz}[1][]	{\unite[#1]{\text{mHz}}}
	\newcommand*{\centihertz}[1][]	{\unite[#1]{\text{cHz}}}
	\newcommand*{\decihertz}[1][]	{\unite[#1]{\text{dHz}}}
	\newcommand*{\hertz}[1][]	{\unite[#1]{\text{Hz}}}
	\newcommand*{\decahertz}[1][]	{\unite[#1]{\text{daHz}}}
	\newcommand*{\hectohertz}[1][]	{\unite[#1]{\text{hHz}}}
	\newcommand*{\kilohertz}[1][]	{\unite[#1]{\text{kHz}}}
	\newcommand*{\megahertz}[1][]	{\unite[#1]{\text{MHz}}}
	\newcommand*{\gigahertz}[1][]	{\unite[#1]{\text{GHz}}}

	
	%energie
	\newcommand*{\millijoule}[1][]	{\unite[#1]{\text{mJ}}}	%Joule
	\newcommand*{\centijoule}[1][]	{\unite[#1]{\text{cJ}}}	%Joule
	\newcommand*{\decijoule}[1][]	{\unite[#1]{\text{dJ}}}	%Joule
	\newcommand*{\joule}[1][]	{\unite[#1]{\text{J}}}	%Joule
	\newcommand*{\decajoule}[1][]	{\unite[#1]{\text{daJ}}}	%Joule
	\newcommand*{\hectojoule}[1][]	{\unite[#1]{\text{hJ}}}	%Joule
	\newcommand*{\kilojoule}[1][]	{\unite[#1]{\text{kJ}}}	%Kilo Joule
	\newcommand*{\megajoule}[1][]	{\unite[#1]{\text{MJ}}}	%Mega Joule
	\newcommand*{\wattheure}[1][]	{\unite[#1]{\text{Wh}}}	%Watt Heure
	\newcommand*{\kilowattheure}[1][]	{\unite[#1]{\text{kWh}}}	%kilo Watt heure
	
	%Puissance
	\newcommand*{\milliwatt}[1][]	{\unite[#1]{\text{mW}}}	%Watt
	\newcommand*{\centiwatt}[1][]	{\unite[#1]{\text{cW}}}	%Watt
	\newcommand*{\deciwatt}[1][]	{\unite[#1]{\text{dW}}}	%Watt
	\newcommand*{\watt}[1][]	{\unite[#1]{\text{W}}}	%Watt
	\newcommand*{\decawatt}[1][]	{\unite[#1]{\text{daW}}}	%Watt
	\newcommand*{\hectowatt}[1][]	{\unite[#1]{\text{hW}}}	%Watt
	\newcommand*{\kilowatt}[1][]	{\unite[#1]{\text{kW}}}	%Kilo Watt
	\newcommand*{\megawatt}[1][]	{\unite[#1]{\text{MW}}}	%Mega Watt
	
	\newcommand*{\cheval}[1][]	{\unite[#1]{\text{ch}}}	%Cheval

	%Intensité lumineuse
	\newcommand*{\lumen}[1][]	{\unite[#1]{\text{lm}}}%Lumen
	\newcommand*{\candela}[1][]	{\unite[#1]{\text{cd}}}%Candela
	
	%Masse
	\newcommand*{\milligramme} [1][]	{\unite[#1]{\text{mg}}}
	\newcommand*{\centigramme} [1][]{\unite[#1]{\text{cg}}}
	\newcommand*{\decigramme} [1][]	{\unite[#1]{\text{dg}}}
	\newcommand*{\gramme} [1][]	{\unite[#1]{\text{g}}}
	\newcommand*{\decagramme} [1][]	{\unite[#1]{\text{dag}}}
	\newcommand*{\hectogramme} [1][]{\unite[#1]{\text{hg}}}
	\newcommand*{\kilogramme}[1][] 	{\unite[#1]{\text{kg}}}
	\newcommand*{\tonne}[1][] 	{\unite[#1]{\text{t}}}
	
	%Angles
	\newcommand*{\degree}[1][]	{\unite[#1]{\ensuremath{\phantom.^{\circ}}}}	%Remplace deg
	%\newcommand*{\degre}[1][]	{\unite[#1]{\ensuremath{\phantom.^{\circ}}}}	%Remplace deg
	\newcommand*{\radian}[1][]	{\unite[#1]{\text{rad}}}
	\newcommand*{\tour}[1][]	{\unite[#1]{\text{tr}}}
	
	%Electricite
	\newcommand*{\volt}[1][]	{\unite[#1]{\text{V}}}
	\newcommand*{\ampere}[1][]	{\unite[#1]{\text{A}}}
	\newcommand*{\ohm}[1][]	{\unite[#1]{\Omega}}
	\newcommand*{\kiloohm}[1][]	{\unite[#1]{k\Omega}}
	\newcommand*{\megaohm}[1][]	{\unite[#1]{M\Omega}}
	\newcommand*{\VAR}[1][]     {\unite[#1]{VAR}}
	%\newcommand*{\VA}[1][]     {\unite[#1]{VA}}
	\newcommand*{\farad}[1][]     {\unite[#1]{F}}
	\newcommand*{\microfarad}[1][]     {\unite[#1]{\mu F}}
	\newcommand*{\picofarad}[1][]     {\unite[#1]{pF}}
	\newcommand*{\nanofarad}[1][]     {\unite[#1]{nF}}
	\newcommand*{\millifarad}[1][]     {\unite[#1]{mF}}
	\newcommand*{\ampereheure}[1][]    {\unite[#1]{\text{Ah}}} %Ampère Heure
	\newcommand*{\milliampereheure}[1][]    {\unite[#1]{\text{mAh}}}	%Milli Ampère Heure
	
	%Inductance
	\newcommand*{\microhenry} [1][]	{\unite[#1]{\text{$\mu$H}}}
	\newcommand*{\millihenry} [1][]	{\unite[#1]{\text{mH}}}
	\newcommand*{\centihenry} [1][]{\unite[#1]{\text{cH}}}
	\newcommand*{\decihenry} [1][]	{\unite[#1]{\text{dH}}}
	\newcommand*{\henry} [1][]	{\unite[#1]{\text{H}}}
	\newcommand*{\decahenry} [1][]	{\unite[#1]{\text{daH}}}
	\newcommand*{\hectohenry} [1][]{\unite[#1]{\text{hH}}}
	\newcommand*{\kilohenry}[1][] 	{\unite[#1]{\text{kH}}}
	
	%Dureté matériau
	\newcommand*{\dureteHB}		{\unite{\text{HB}}}	%Dureté Brinell
	\newcommand*{\dureteHBS}	{\unite{\text{HBS}}}	%Dureté Brinell avec bille acier
	\newcommand*{\dureteHBW}	{\unite{\text{HBW}}}	%Dureté Brinell avec bille carbure de tungstène
	\newcommand*{\dureteHRB}	{\unite{\text{HRB}}}	%Dureté Rockwell
	\newcommand*{\dureteHRC}	{\unite{\text{HRC}}}	%Dureté Rockwell
	\newcommand*{\dureteHV}		{\unite{\text{Hv}}}	%Dureté Vickers
	\newcommand*{\dureteHSh}	{\unite{\text{HSh}}}	%Sureté shore
	\newcommand*{\dureteKCU}	{\unite{\text{KCU}}}	%Coefficient résilience en U
	\newcommand*{\dureteKCV}	{\unite{\text{KCV}}}	%Coefficient résilience en V

	%Accoustique
	\newcommand*{\decibell}[1][] 	{\unite[#1]{\text{dB}}}
	\newcommand*{\decade}[1][]	{\unite[#1]{\text{decade}}}
	\newcommand*{\decades}[1][]	{\unite[#1]{\text{decades}}}
	
	%Température 
	\newcommand{\degreCelcius}[1][]  {\unite[#1]{\text{°C}}}
	\newcommand{\kelvin}[1][]  {\unite[#1]{\text{K}}}
	
	%Informatique
	\newcommand*{\octet}[1][] 	{\unite[#1]{\text{o}}}
	\newcommand*{\kilooctet}[1][]	{\unite[#1]{\text{ko}}}
	\newcommand*{\megaoctet}[1][]	{\unite[#1]{\text{Mo}}}
	\newcommand*{\gigaoctet}[1][]	{\unite[#1]{\text{Go}}}
	\newcommand*{\teraoctet}[1][]	{\unite[#1]{\text{To}}}
	
	\newcommand*{\kibioctet}[1][]	{\unite[#1]{\text{kio}}}
	\newcommand*{\mebioctet}[1][]	{\unite[#1]{\text{Mio}}}
	\newcommand*{\gibioctet}[1][]	{\unite[#1]{\text{Mio}}}
	\newcommand*{\tebioctet}[1][]	{\unite[#1]{\text{Tio}}}
	
	\newcommand*{\bit}[1][] 	{\unite[#1]{\text{bit}}}
	\newcommand*{\kilobit}[1][]	{\unite[#1]{\text{kbit}}}
	\newcommand*{\megabit}[1][]	{\unite[#1]{\text{Mbit}}}
	\newcommand*{\gigabit}[1][]	{\unite[#1]{\text{Gbit}}}
	\newcommand*{\terabit}[1][]	{\unite[#1]{\text{Tbit}}}

% ===============================
% RACCOURCI
% ===============================
	\ifthenelse{\boolean{boolRaccourcisUnite}}
{

	%Longueurs
	\newcommand*{\micron} 		{\micrometre}
	\newcommand*{\mm} 		{\millimetre}
	\newcommand*{\cm} 		{\centimetre}
	\newcommand*{\dm} 		{\decimetre}
	\newcommand*{\m} 		{\metre}
	\newcommand*{\dam} 		{\decametre}
	\newcommand*{\hhm} 		{\hectometre}%Conflit de \hm avec le package bm (math en gras)
	\newcommand*{\km} 		{\kilometre}

	%Volume
	\newcommand*{\mL}		{\millilitre}
	\newcommand*{\cL}		{\centilitre}
	\newcommand*{\dL}		{\decilitre}
	\newcommand*{\Ltr}		{\litre}
	\newcommand*{\daL}		{\decalitre}
	\newcommand*{\hL}		{\hectolitre}
	\newcommand*{\kL}		{\kilolitre}

	%Forces
	\newcommand*{\mN} 		{\millinewton}
	\newcommand*{\cN} 		{\centinewton}
	\newcommand*{\dN} 		{\decinewton}
	\newcommand*{\N} 		{\newton}
	\newcommand*{\daN} 		{\decanewton}
	\newcommand*{\hN} 		{\hectonewton}
	\newcommand*{\kN} 		{\kilonewton}
	
	\newcommand*{\Nm} 		{\newtonMetre}
	\newcommand*{\Nmm} 		{\newtonMillimetre}
	\newcommand*{\mNm} 		{\milliNewtonMetre}
	\newcommand*{\kNm} 		{\kiloNewtonMetre}
	
	%Pressions
	\newcommand*{\Pa} 		{\pascal}
	\newcommand*{\kPa} 		{\kilopascal}
	\newcommand*{\hPa} 		{\hectopascal}
	\newcommand*{\MPa} 		{\megapascal}
	\newcommand*{\GPa} 		{\gigapascal}
	\newcommand*{\br} 		{\baros}
	

	%Temps	
	\newcommand*{\ms}		{\milliseconde}
	\renewcommand{\sec}		{\seconde}
	\newcommand*{\mn} 		{\minute}
	\newcommand*{\hr} 		{\heure}
	\newcommand*{\an} 		{\annee}
	\newcommand*{\ans} 		{\annees}

	%Fréquence
	\newcommand*{\mHz}		{\millihertz}
	\newcommand*{\cHz}		{\centihertz}
	\newcommand*{\dHz}		{\decihertz}
	\newcommand*{\Hz}		{\hertz}
	\newcommand*{\daHz}		{\decahertz}
	\newcommand*{\hHz}		{\hectohertz}
	\newcommand*{\kHz}		{\kilohertz}
	\newcommand*{\MHz}		{\megahertz}
	\newcommand*{\GHz}		{\gigahertz}

	
	%energie
	\newcommand*{\J}		{\joule}	%Joule
	\newcommand*{\kJ}		{\kilojoule}	%Kilo Joule
	\newcommand*{\MJ}		{\megajoule}	%Mega Joule
	
	%Puissance
	\newcommand*{\W}		{\watt}		%Watt
	\newcommand*{\kW}		{\kilowatt}	%Kilo Watt
	\newcommand*{\MW}		{\megawatt}	%Mega Watt
	\newcommand*{\Wh}		{\wattheure}	%Watt Heure
	\newcommand*{\kWh}		{\kilowattheure}	%kilo Watt Heure
	
	\newcommand*{\ch}		{\cheval}	%Cheval
	
	%Intensité lumineuse
	\newcommand*{\lm}		{\lumen}%Lumen
	\newcommand*{\cd}[1][]		{\candela}%Candela
	
	%Masse
	\newcommand*{\g} 		{\gramme}
	\newcommand*{\kg} 		{\kilogramme}
	
	%Angles
	\renewcommand*{\deg}		{\degree}	%Remplace deg
	\newcommand*{\rad}		{\radian}
	\newcommand*{\tr}		{\tour}
	
	%Electricite
	\newcommand*{\V}		{\volt}
	\newcommand*{\A}		{\ampere}
	%\newcommand*{\ohm}[1][]	{\unite[#1]{\Omega}}
	\newcommand*{\kohm}		{\kiloohm}
	\newcommand*{\Mohm}		{\megaohm}
	\newcommand*{\microF}   {\microfarad}
	\newcommand*{\pF}   {\picofarad}
	\newcommand*{\mF}   {\millifarad}
	\newcommand*{\nF}   {\nanofarad}
	\newcommand*{\Ah}       {\ampereheure} %Ampère Heure
	\newcommand*{\mAh}      {\milliampereheure} %Ampère Heure

	%Inductance
	\newcommand*{\microH}	{\microhenry}
	\newcommand*{\mH}	{\millihenry}
	\newcommand*{\cH}	{\centihenry}
	\newcommand*{\dH}	{\decihenry}
	\renewcommand*{\H}	{\henry} %(à la place de tréma)
	\newcommand*{\daH}	{\decahenry}
	\newcommand*{\hH}	{\hectohenry}
	\newcommand*{\kH}	{\kilohenry}

	%Dureté matériau
	\newcommand*{\HB}	{\dureteHB}	%Dureté Brinell
	\newcommand*{\HBS}	{\dureteHBS}	%Dureté Brinell avec bille acier
	\newcommand*{\HBW}	{\dureteHBW}	%Dureté Brinell avec bille carbure de tungstène
	\newcommand*{\HRB}	{\dureteHRB}	%Dureté Rockwell
	\newcommand*{\HRC}	{\dureteHRC}	%Dureté Rockwell
	\newcommand*{\HV}	{\dureteHV}	%Dureté Vickers
	\newcommand*{\HSh}	{\dureteHSh}	%Sureté shore
	\newcommand*{\KCU}	{\dureteKCU}	%Coefficient résilience en U
	\newcommand*{\KCV}	{\dureteKCV}	%Coefficient résilience en V

	%Accoustique
	\newcommand*{\dB}	{\decibell}
	\newcommand*{\dec}[1][]	{\decade}
	\newcommand*{\decs}[1][]{\decades}
	
	
	%Température 
	\newcommand*{\degC} {\degreCelcius}
	\newcommand{\K}    {\kelvin}
	
	%Informatique
	\newcommand*{\ko}	{\kilooctet}
	\newcommand*{\Mo}	{\megaoctet}
	\newcommand*{\Go}	{\gigaoctet}
	\newcommand*{\To}	{\teraoctet}
	
	\newcommand*{\kio}	{\kibioctet}
	\newcommand*{\Mio}	{\mebioctet}
	\newcommand*{\Gio}	{\gibioctet}
	\newcommand*{\Tio}	{\tebioctet}
	
	\newcommand*{\kbit}	{\kilobit}
	\newcommand*{\Mbit}	{\megabit}
	\newcommand*{\Gbit}	{\gigabit}
	\newcommand*{\Tbit}	{\terabit}
	

}{}



\endinput
